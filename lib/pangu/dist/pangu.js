// build time:Sun Oct 07 2018 14:22:19 GMT+0800 (CST)
(function e(u,f){if(typeof exports==="object"&&typeof module==="object")module.exports=f();else if(typeof define==="function"&&define.amd)define("pangu",[],f);else if(typeof exports==="object")exports["pangu"]=f();else u["pangu"]=f()})(this,function(){return function(e){var u={};function f(a){if(u[a])return u[a].exports;var t=u[a]={exports:{},id:a,loaded:false};e[a].call(t.exports,t,t.exports,f);t.loaded=true;return t.exports}f.m=e;f.c=u;f.p="";return f(0)}([function(e,u,f){"use strict";var a=function(){function e(e,u){for(var f=0;f<u.length;f++){var a=u[f];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(u,f,a){if(f)e(u.prototype,f);if(a)e(u,a);return u}}();function t(e,u){if(!(e instanceof u)){throw new TypeError("Cannot call a class as a function")}}function n(e,u){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return u&&(typeof u==="object"||typeof u==="function")?u:e}function r(e,u){if(typeof u!=="function"&&u!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof u)}e.prototype=Object.create(u&&u.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(u)Object.setPrototypeOf?Object.setPrototypeOf(e,u):e.__proto__=u}var i=f(1).Pangu;var o=8;var s=function(e){r(u,e);function u(){t(this,u);var e=n(this,Object.getPrototypeOf(u).call(this));e.topTags=/^(html|head|body|#document)$/i;e.ignoreTags=/^(script|code|pre|textarea)$/i;e.spaceSensitiveTags=/^(a|del|pre|s|strike|u)$/i;e.spaceLikeTags=/^(br|hr|i|img|pangu)$/i;e.blockTags=/^(div|h1|h2|h3|h4|h5|h6|p)$/i;return e}a(u,[{key:"canIgnoreNode",value:function f(e){var u=e.parentNode;while(u&&u.nodeName&&u.nodeName.search(this.topTags)===-1){if(u.nodeName.search(this.ignoreTags)>=0||u.isContentEditable||u.getAttribute("g_editable")==="true"){return true}u=u.parentNode}return false}},{key:"isFirstTextChild",value:function i(e,u){var f=e.childNodes;for(var a=0;a<f.length;a++){var t=f[a];if(t.nodeType!==o&&t.textContent){return t===u}}return false}},{key:"isLastTextChild",value:function s(e,u){var f=e.childNodes;for(var a=f.length-1;a>-1;a--){var t=f[a];if(t.nodeType!==o&&t.textContent){return t===u}}return false}},{key:"spacingNodeByXPath",value:function c(e,u){var f=document.evaluate(e,u,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var a=void 0;var t=void 0;for(var n=f.snapshotLength-1;n>-1;--n){a=f.snapshotItem(n);if(this.canIgnoreNode(a)){t=a;continue}var r=this.spacing(a.data);if(a.data!==r){a.data=r}if(t){if(a.nextSibling&&a.nextSibling.nodeName.search(this.spaceLikeTags)>=0){t=a;continue}var i=a.data.toString().substr(-1)+t.data.toString().substr(0,1);var o=this.spacing(i);if(o!==i){var s=t;while(s.parentNode&&s.nodeName.search(this.spaceSensitiveTags)===-1&&this.isFirstTextChild(s.parentNode,s)){s=s.parentNode}var c=a;while(c.parentNode&&c.nodeName.search(this.spaceSensitiveTags)===-1&&this.isLastTextChild(c.parentNode,c)){c=c.parentNode}if(c.nextSibling){if(c.nextSibling.nodeName.search(this.spaceLikeTags)>=0){t=a;continue}}if(c.nodeName.search(this.blockTags)===-1){if(s.nodeName.search(this.spaceSensitiveTags)===-1){if(s.nodeName.search(this.ignoreTags)===-1&&s.nodeName.search(this.blockTags)===-1){if(t.previousSibling){if(t.previousSibling.nodeName.search(this.spaceLikeTags)===-1){t.data=" "+t.data}}else{if(!this.canIgnoreNode(t)){t.data=" "+t.data}}}}else if(c.nodeName.search(this.spaceSensitiveTags)===-1){a.data=a.data+" "}else{var d=document.createElement("pangu");d.innerHTML=" ";if(s.previousSibling){if(s.previousSibling.nodeName.search(this.spaceLikeTags)===-1){s.parentNode.insertBefore(d,s)}}else{s.parentNode.insertBefore(d,s)}if(!d.previousElementSibling){if(d.parentNode){d.parentNode.removeChild(d)}}}}}}t=a}}},{key:"spacingNode",value:function d(e){var u=".//*/text()[normalize-space(.)]";this.spacingNodeByXPath(u,e)}},{key:"spacingElementById",value:function l(e){var u='id("'+e+'")//text()';this.spacingNodeByXPath(u,document)}},{key:"spacingElementByClassName",value:function p(e){var u='//*[contains(concat(" ", normalize-space(@class), " "), "'+e+'")]//text()';this.spacingNodeByXPath(u,document)}},{key:"spacingElementByTagName",value:function g(e){var u="//"+e+"//text()";this.spacingNodeByXPath(u,document)}},{key:"spacingPageTitle",value:function h(){var e="/html/head/title/text()";this.spacingNodeByXPath(e,document)}},{key:"spacingPageBody",value:function v(){var e="/html/body//*/text()[normalize-space(.)]";var u=["script","style","textarea"];for(var f=0;f<u.length;f++){var a=u[f];e+='[translate(name(..),"ABCDEFGHIJKLMNOPQRSTUVWXYZ","abcdefghijklmnopqrstuvwxyz")!="'+a+'"]'}this.spacingNodeByXPath(e,document)}},{key:"spacingPage",value:function b(){this.spacingPageTitle();this.spacingPageBody()}}]);return u}(i);var c=new s;u=e.exports=c;u.Pangu=s},function(e,u){"use strict";var f=function(){function e(e,u){for(var f=0;f<u.length;f++){var a=u[f];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(u,f,a){if(f)e(u.prototype,f);if(a)e(u,a);return u}}();function a(e,u){if(!(e instanceof u)){throw new TypeError("Cannot call a class as a function")}}var t=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])(["])/g;var n=/(["])([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])/g;var r=/(["']+)(\s*)(.+?)(\s*)(["']+)/g;var i=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])( )(')([A-Za-z])/g;var o=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])(#)([A-Za-z0-9\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff]+)(#)([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])/g;var s=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])(#([^ ]))/g;var c=/(([^ ])#)([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])/g;var d=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])([\+\-\*\/=&\\|<>])([A-Za-z0-9])/g;var l=/([A-Za-z0-9])([\+\-\*\/=&\\|<>])([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])/g;var p=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])([\(\[\{<\u201c]+(.*?)[\)\]\}>\u201d]+)([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])/g;var g=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])([\(\[\{<\u201c>])/g;var h=/([\)\]\}>\u201d<])([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])/g;var v=/([\(\[\{<\u201c]+)(\s*)(.+?)(\s*)([\)\]\}>\u201d]+)/;var b=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])([~!;:,\.\?\u2026])([A-Za-z0-9])/g;var y=/([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])([A-Za-z0-9`\$%\^&\*\-=\+\\\|\/@\u00a1-\u00ff\u2022\u2027\u2150-\u218f])/g;var m=/([A-Za-z0-9`~\$%\^&\*\-=\+\\\|\/!;:,\.\?\u00a1-\u00ff\u2022\u2026\u2027\u2150-\u218f])([\u2e80-\u2eff\u2f00-\u2fdf\u3040-\u309f\u30a0-\u30ff\u3100-\u312f\u3200-\u32ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff])/g;var $=function(){function e(){a(this,e)}f(e,[{key:"spacing",value:function u(e){var u=e;u=u.replace(t,"$1 $2");u=u.replace(n,"$1 $2");u=u.replace(r,"$1$3$5");u=u.replace(i,"$1$3$4");u=u.replace(o,"$1 $2$3$4 $5");u=u.replace(s,"$1 $2");u=u.replace(c,"$1 $3");u=u.replace(d,"$1 $2 $3");u=u.replace(l,"$1 $2 $3");var f=u;var a=u.replace(p,"$1 $2 $4");u=a;if(f===a){u=u.replace(g,"$1 $2");u=u.replace(h,"$1 $2")}u=u.replace(v,"$1$3$5");u=u.replace(b,"$1$2 $3");u=u.replace(y,"$1 $2");u=u.replace(m,"$1 $2");return u}},{key:"spacingText",value:function $(e){var u=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];try{var f=this.spacing(e);u(null,f)}catch(a){u(a)}}}]);return e}();var N=new $;u=e.exports=N;u.Pangu=$}])});
//rebuild by neat 